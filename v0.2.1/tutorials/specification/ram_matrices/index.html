<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>RAMMatrices interface · StructuralEquationModels.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon_zeta.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="StructuralEquationModels.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">StructuralEquationModels.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">A fast and flexible SEM framework</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../first_model/">A first model</a></li><li><a class="tocitem" href="../../concept/">Our Concept of a Structural Equation Model</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Model Specification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../specification/">Model specification</a></li><li><a class="tocitem" href="../graph_interface/">Graph interface</a></li><li class="is-active"><a class="tocitem" href>RAMMatrices interface</a><ul class="internal"><li><a class="tocitem" href="#Meanstructure"><span>Meanstructure</span></a></li><li><a class="tocitem" href="#Convert-from-and-to-ParameterTables"><span>Convert from and to ParameterTables</span></a></li></ul></li><li><a class="tocitem" href="../parameter_table/">ParameterTable interface</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Model Construction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../construction/construction/">Model Construction</a></li><li><a class="tocitem" href="../../construction/outer_constructor/">Outer Constructor</a></li><li><a class="tocitem" href="../../construction/build_by_parts/">Build by parts</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Optimization Backends</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../backends/optim/">Using Optim.jl</a></li><li><a class="tocitem" href="../../backends/nlopt/">Using NLopt.jl</a></li></ul></li><li><a class="tocitem" href="../../fitting/fitting/">Model Fitting</a></li><li><a class="tocitem" href="../../inspection/inspection/">Model Inspection</a></li><li><a class="tocitem" href="../../meanstructure/">Mean Structures</a></li><li><input class="collapse-toggle" id="menuitem-2-9" type="checkbox"/><label class="tocitem" for="menuitem-2-9"><span class="docs-label">Collections</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../collection/collection/">Collections</a></li><li><a class="tocitem" href="../../collection/multigroup/">Multigroup models</a></li></ul></li><li><a class="tocitem" href="../../constraints/constraints/">Constraints</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Developer documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developer/extending/">Extending the package</a></li><li><a class="tocitem" href="../../../developer/loss/">Custom loss functions</a></li><li><a class="tocitem" href="../../../developer/imply/">Custom imply types</a></li><li><a class="tocitem" href="../../../developer/optimizer/">Custom optimizer types</a></li><li><a class="tocitem" href="../../../developer/observed/">Custom observed types</a></li><li><a class="tocitem" href="../../../developer/sem/">Custom model types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Advanced tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../regularization/regularization/">Regularization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Performance tips</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../performance/sorting/">Model sorting</a></li><li><a class="tocitem" href="../../../performance/mkl/">MKL</a></li><li><a class="tocitem" href="../../../performance/simulation/">Simulation studies</a></li><li><a class="tocitem" href="../../../performance/symbolic/">Symbolic precomputation</a></li><li><a class="tocitem" href="../../../performance/starting_values/">Starting values</a></li><li><a class="tocitem" href="../../../performance/parametric/">Parametric Types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Internals and design</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../internals/internals/">Internals and design</a></li><li><a class="tocitem" href="../../../internals/files/">files</a></li><li><a class="tocitem" href="../../../internals/types/">types</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Complementary material</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../complementary/maths/">Mathematical appendix</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Model Specification</a></li><li class="is-active"><a href>RAMMatrices interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>RAMMatrices interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/StructuralEquationModels/StructuralEquationModels.jl/blob/main/docs/src/tutorials/specification/ram_matrices.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="RAMMatrices-interface"><a class="docs-heading-anchor" href="#RAMMatrices-interface">RAMMatrices interface</a><a id="RAMMatrices-interface-1"></a><a class="docs-heading-anchor-permalink" href="#RAMMatrices-interface" title="Permalink"></a></h1><p>Models can also be specified by an object of type <code>RAMMatrices</code>.  The RAM (reticular action model) specification corresponds to three matrices; the <code>A</code> matrix containing all directed parameters, the <code>S</code> matrix containing all undirected parameters, and the <code>F</code> matrix filtering out latent variables from the model implied covariance.</p><p>The model implied covariance matrix for the observed variables of a SEM is then computed as</p><p class="math-container">\[\Sigma = F(I-A)^{-1}S(I-A)^{-T}F^T\]</p><p>For <a href="../../first_model/#A-first-model">A first model</a>, the corresponding specification looks like this:</p><pre><code class="language-julia hljs">
S =[:θ1   0    0     0     0      0     0     0     0     0     0     0     0     0
    0     :θ2  0     0     0      0     0     0     0     0     0     0     0     0
    0     0     :θ3  0     0      0     0     0     0     0     0     0     0     0
    0     0     0     :θ4  0      0     0     :θ15  0     0     0     0     0     0
    0     0     0     0     :θ5   0     :θ16  0     :θ17  0     0     0     0     0
    0     0     0     0     0     :θ6  0      0     0     :θ18  0     0     0     0
    0     0     0     0     :θ16  0     :θ7   0     0     0     :θ19  0     0     0
    0     0     0     :θ15 0      0     0     :θ8   0     0     0     0     0     0
    0     0     0     0     :θ17  0     0     0     :θ9   0     :θ20  0     0     0
    0     0     0     0     0     :θ18 0      0     0     :θ10  0     0     0     0
    0     0     0     0     0     0     :θ19  0     :θ20  0     :θ11  0     0     0
    0     0     0     0     0     0     0     0     0     0     0     :θ12  0     0
    0     0     0     0     0     0     0     0     0     0     0     0     :θ13  0
    0     0     0     0     0     0     0     0     0     0     0     0     0     :θ14]

F =[1.0 0 0 0 0 0 0 0 0 0 0 0 0 0
    0 1 0 0 0 0 0 0 0 0 0 0 0 0
    0 0 1 0 0 0 0 0 0 0 0 0 0 0
    0 0 0 1 0 0 0 0 0 0 0 0 0 0
    0 0 0 0 1 0 0 0 0 0 0 0 0 0
    0 0 0 0 0 1 0 0 0 0 0 0 0 0
    0 0 0 0 0 0 1 0 0 0 0 0 0 0
    0 0 0 0 0 0 0 1 0 0 0 0 0 0
    0 0 0 0 0 0 0 0 1 0 0 0 0 0
    0 0 0 0 0 0 0 0 0 1 0 0 0 0
    0 0 0 0 0 0 0 0 0 0 1 0 0 0]

A =[0  0  0  0  0  0  0  0  0  0  0     1.0   0     0
    0  0  0  0  0  0  0  0  0  0  0     :θ21  0     0
    0  0  0  0  0  0  0  0  0  0  0     :θ22  0     0
    0  0  0  0  0  0  0  0  0  0  0     0     1.0   0
    0  0  0  0  0  0  0  0  0  0  0     0     :θ23  0
    0  0  0  0  0  0  0  0  0  0  0     0     :θ24  0
    0  0  0  0  0  0  0  0  0  0  0     0     :θ25  0
    0  0  0  0  0  0  0  0  0  0  0     0     0     1
    0  0  0  0  0  0  0  0  0  0  0     0     0     :θ26
    0  0  0  0  0  0  0  0  0  0  0     0     0     :θ27
    0  0  0  0  0  0  0  0  0  0  0     0     0     :θ28
    0  0  0  0  0  0  0  0  0  0  0     0     0     0
    0  0  0  0  0  0  0  0  0  0  0     :θ29  0     0
    0  0  0  0  0  0  0  0  0  0  0     :θ30  :θ31  0]

θ = Symbol.(:θ, 1:31)

spec = RAMMatrices(;
    A = A, 
    S = S, 
    F = F, 
    parameters = θ,
    colnames = [:x1, :x2, :x3, :y1, :y2, :y3, :y4, :y5, :y6, :y7, :y8, :ind60, :dem60, :dem65]
)

model = Sem(
    specification = spec,
    data = example_data(&quot;political_democracy&quot;)
)</code></pre><p>Let&#39;s look at this step by step:</p><p>First, we specify the <code>A</code>, <code>S</code> and <code>F</code>-Matrices.  For a free parameter, we write a <code>Symbol</code> like <code>:θ1</code> (or any other symbol we like) to the corresponding place in the respective matrix, to constrain parameters to be equal we just use the same <code>Symbol</code> in the respective entries.  To fix a parameter (as in the <code>A</code>-Matrix above), we just write down the number we want to fix it to.  All other entries are 0.</p><p>Second, we specify a vector of symbols containing our parameters:</p><pre><code class="language-julia hljs">θ = Symbol.(:θ, 1:31)</code></pre><p>Third, we construct an object of type <code>RAMMatrices</code>, passing our matrices and parameters, as well as the column names of our matrices.  Those are quite important, as they will be used to rearrange your data to match it to your <code>RAMMatrices</code> specification.</p><pre><code class="language-julia hljs">spec = RAMMatrices(;
    A = A, 
    S = S, 
    F = F, 
    parameters = θ,
    colnames = [:x1, :x2, :x3, :y1, :y2, :y3, :y4, :y5, :y6, :y7, :y8, :ind60, :dem60, :dem65]
)</code></pre><p>Finally, we construct a model, passing our <code>RAMMatrices</code> as the <code>specification = ...</code> argument.</p><pre><code class="language-julia hljs">model = Sem(
    specification = spec,
    data = example_data(&quot;political_democracy&quot;)
)</code></pre><h2 id="Meanstructure"><a class="docs-heading-anchor" href="#Meanstructure">Meanstructure</a><a id="Meanstructure-1"></a><a class="docs-heading-anchor-permalink" href="#Meanstructure" title="Permalink"></a></h2><p>According to the RAM, model implied mean values of the observed variables are computed as</p><p class="math-container">\[\mu = F(I-A)^{-1}M\]</p><p>where <code>M</code> is a vector of mean parameters. To estimate the means of the observed variables in our example (and set the latent means to <code>0</code>), we would specify the model just as before but add </p><pre><code class="language-julia hljs">...

M = [:x32; :x33; :x34; :x35; :x36; :x37; :x38; :x39; :x40; :x41; :x42; 0; 0; 0]

θ = Symbol.(:θ, 1:42)

spec = RAMMatrices(;
    ...,
    M = M)

...
</code></pre><h2 id="Convert-from-and-to-ParameterTables"><a class="docs-heading-anchor" href="#Convert-from-and-to-ParameterTables">Convert from and to ParameterTables</a><a id="Convert-from-and-to-ParameterTables-1"></a><a class="docs-heading-anchor-permalink" href="#Convert-from-and-to-ParameterTables" title="Permalink"></a></h2><p>To convert a RAMMatrices object to a ParameterTable, simply use <code>partable = ParameterTable(ram_matrices)</code>.  To convert an object of type <code>ParameterTable</code> to RAMMatrices, you can use <code>ram_matrices = RAMMatrices(partable)</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../graph_interface/">« Graph interface</a><a class="docs-footer-nextpage" href="../parameter_table/">ParameterTable interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 7 August 2023 13:33">Monday 7 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
